# Sprint 3 Configuration File
# Environment: production | staging | development

database:
  host: ${DB_HOST:-localhost}
  port: ${DB_PORT:-5432}
  name: ${DB_NAME:-ticketing}
  user: ${DB_USER:-admin}
  password: ${DB_PASSWORD:-change_me_in_prod}

redis:
  host: ${REDIS_HOST:-localhost}
  port: ${REDIS_PORT:-6379}
  password: ${REDIS_PASSWORD:-}
  db: 0

web3:
  provider_url: ${WEB3_PROVIDER:-https://mainnet.infura.io/v3/YOUR_KEY}
  contract_address: ${CONTRACT_ADDRESS:-}

ml:
  fraud_model_path: ml_pipeline/models/fraud_model_v1.2.3.pkl
  fraud_threshold: 0.65
  model_version: v1.2.3

mab:
  epsilon: 0.15  # Exploration rate
  arms:
    - name: baseline
      weight: 1.0
    - name: surge_pricing
      weight: 1.0
    - name: early_bird
      weight: 1.0
    - name: ml_pricing
      weight: 1.0

rate_limiting:
  ip_limit: 100  # requests per minute
  user_limit: 500  # requests per minute per authenticated user
  endpoint_limits:
    /api/tickets/buy: 5
    /api/v1/ml/predict/fraud: 50

alerts:
  event_lag_threshold_seconds: 60
  error_rate_threshold: 0.02  # 2%
  error_rate_window_minutes: 10
  suspicious_transaction_count_threshold: 10

retention:
  onchain_retention_days: 365  # Keep on-chain data forever (blockchain)
  offchain_retention_days: 90  # Keep off-chain logs for 90 days
  archival_enabled: true
  auto_delete_enabled: true

monitoring:
  refresh_interval_seconds: 5
  kpi_window_hours: 24
  dashboard_port: 8050

